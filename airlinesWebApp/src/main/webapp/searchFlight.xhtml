<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html">

<h:head>
	<title>List of Flights</title>
	<h:outputStylesheet library="css" name="styles.css" />
</h:head>
<body>
	<h1>List of Flights</h1>
	<h:form>
		<h4>Filter flight by:</h4>
		<h:outputLabel>Arrival Date:</h:outputLabel>
		<h:inputText value="#{flightBean.date}" />
		<h:outputLabel> Airline Name:</h:outputLabel>
		<h:inputText value="#{flightBean.airlineName}" />
		<h:outputLabel> Departure:</h:outputLabel>
		<h:inputText value="#{flightBean.departure}" />
		<h:outputLabel> Destination:</h:outputLabel>
		<h:inputText value="#{flightBean.destination}" />
		<h:commandButton value="Search"
			actionListener="#{flightBean.filterFlights()}"
			action="searchFlight.xhtml" styleClass="cross" />
		<br />
		<br />
		<h:dataTable id="flightTable" value="#{flightBean.getFlights()}"
			var="item" border="1" styleClass="flightTable"
			headerClass="flightTableHeader"
			rowClasses="flightableOddRow,flightTableEvenRow">

			<h:column>
				<f:facet name="header">Flight Number</f:facet>
				<h:outputText value="#{item.flightnr}" />
			</h:column>
			<h:column>
				<f:facet name="header">Departer Date Time</f:facet>
				<h:outputText value="#{item.departureDate} : #{item.departureTime}" />
			</h:column>
			<h:column>
				<f:facet name="header">Arrival Date Time</f:facet>
				<h:outputText value="#{item.arrivalDate} : #{item.arrivalTime}" />
			</h:column>
			<h:column>
				<f:facet name="header">Airline Name</f:facet>
				<h:outputText value="#{item.airline.name}" />
			</h:column>
			<h:column>
				<f:facet name="header">Orgin</f:facet>
				<h:outputText
					value="#{item.origin.airportcode}: #{item.origin.name}" />
			</h:column>
			<h:column>
				<f:facet name="header">Destination Airport</f:facet>
				<h:outputText
					value="#{item.destination.airportcode}: #{item.destination.name}" />
			</h:column>
			<h:column>
				<f:facet name="header">Airplane model</f:facet>
				<h:outputText value="#{item.airplane.model}" />
			</h:column>
			<h:column>
				<f:facet name="header">Capacity</f:facet>
				<h:outputText value="#{item.airplane.capacity}" />
			</h:column>
		</h:dataTable>
	</h:form>
</body>
</html>