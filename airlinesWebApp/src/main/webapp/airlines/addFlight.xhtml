<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
<h:head>
    <title>Register new flight to the airline</title>
    <h:outputStylesheet library="css" name="bootstrap.min.css"/>
</h:head>
<h:body>
    <h:panelGroup styleClass="container" layout="block">
        <h1>Register new flight to the airline #{sessionScope.airlineObj.name}</h1>
        <h:form>
            <h:panelGroup styleClass="form-group" layout="block">
                <h:outputLabel>Flight Number</h:outputLabel>
                <h:inputText styleClass="form-control" id="flightNumber" value="#{flight.flightnr}"/>
                <h:messages for="flightNumber" cssClass="from-text text-danger" layout="block"/>
            </h:panelGroup>
            <h:panelGroup styleClass="form-group" layout="block">
                <h:outputLabel>Departure date</h:outputLabel>
                <h:inputText styleClass="form-control" id="departureDate" value="#{flight.departureDate}"/>
                <h:messages for="departureDate" cssClass="from-text text-danger" layout="block"/>
            </h:panelGroup>
            <h:panelGroup styleClass="form-group" layout="block">
                <h:outputLabel>Departure time</h:outputLabel>
                <h:inputText styleClass="form-control" id="departureTime" value="#{flight.departureTime}"/>
                <h:messages for="departureTime" cssClass="from-text text-danger" layout="block"/>
            </h:panelGroup>
            <h:panelGroup styleClass="form-group" layout="block">
                <h:outputLabel>Arrival date</h:outputLabel>
                <h:inputText styleClass="form-control" id="arrivalDate" value="#{flight.arrivalDate}"/>
                <h:messages for="arrivalDate" cssClass="from-text text-danger" layout="block"/>
            </h:panelGroup>
            <h:panelGroup styleClass="form-group" layout="block">
                <h:outputLabel>Arrival time</h:outputLabel>
                <h:inputText styleClass="form-control" id="arrivalTime" value="#{flight.arrivalTime}"/>
                <h:messages for="arrivalTime" cssClass="from-text text-danger" layout="block"/>
            </h:panelGroup>
            <h:panelGroup styleClass="form-group" layout="block">
                <h:outputLabel>Origin</h:outputLabel>
                <h:selectOneMenu id="origin" styleClass="form-control" value="#{flight.origin}">
                    <f:converter binding="#{airportConverter}" />
                    <f:selectItem itemValue="#{null}" itemLabel="Please select the origin" />
                    <f:selectItems value="#{airportService.findAll()}" var="origin"
                                   itemLabel="#{origin.name}" itemValue="#{origin}">
                    </f:selectItems>
                </h:selectOneMenu>
                <h:messages for="origin" cssClass="from-text text-danger" layout="block"/>
            </h:panelGroup>
            <h:panelGroup styleClass="form-group" layout="block">
                <h:outputLabel>Destination</h:outputLabel>
                <h:selectOneMenu id="destination" styleClass="form-control" value="#{flight.destination}" >
                    <f:converter binding="#{airportConverter}" />
                    <f:selectItem itemValue="#{null}" itemLabel="Please select the destination" />
                    <f:selectItems value="#{airportService.findAll()}" var="destination"
                                   itemLabel="#{destination.name}" itemValue="#{destination}"/>
                </h:selectOneMenu>
                <h:messages for="destination" cssClass="from-text text-danger" layout="block"/>
            </h:panelGroup>
            <h:panelGroup styleClass="form-group" layout="block">
                <h:outputLabel>Airplane</h:outputLabel>
                <h:selectOneMenu id="airplane" styleClass="form-control" value="#{flight.airplane}">
                    <f:converter binding="#{airplaneConverter}" />
                    <f:selectItem itemValue="#{null}" itemLabel="Please select the airplane" />
                    <f:selectItems value="#{airplaneService.findAll()}" var="airplane"
                                   itemLabel="#{airplane.model} #{airplane.serialnr}" itemValue="#{airplane}"/>
                </h:selectOneMenu>
                <h:messages for="airplane" cssClass="from-text text-danger" layout="block"/>
            </h:panelGroup>
            <h:panelGroup styleClass="form-group" layout="block">
                <h:commandButton styleClass="btn btn-success" value="update airline"
                                 action="#{sessionScope.airlineObj.addFlight(flight)}">
                </h:commandButton>
                <h:commandButton styleClass="btn btn-danger" value="cancel" action="cancel"/>
            </h:panelGroup>
        </h:form>
    </h:panelGroup>
</h:body>
</html>
